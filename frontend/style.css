@keyframes fadeIn {
  from { opacity: 0; transform: translateX(100%); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes fadeOut {
  from { opacity: 1; transform: translateX(0); }
  to { opacity: 0; transform: translateX(100%); }
}

.toast-in {
  animation: fadeIn 0.5s forwards;
}

.toast-out {
  animation: fadeOut 0.5s forwards;
}

/* Adiciona esta classe para forçar o texto em maiúsculas nos inputs */
.uppercase-input {
    text-transform: uppercase;
}

/* ESTILOS GLOBAIS PARA INPUTS, SELECTS E TABELAS */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
    /* Estilo unificado para todos os campos de formulário */
    .form-input {
        @apply mt-1 block w-full rounded-md shadow-sm sm:text-sm uppercase-input;
        @apply bg-slate-50 border-slate-300 text-slate-900; /* Cores para o modo claro */
        @apply focus:border-blue-500 focus:ring-blue-500;
        
        /* Estilos para o modo escuro com MAIOR CONTRASTE */
        @apply dark:bg-slate-900 dark:border-slate-600 dark:text-slate-50 dark:placeholder-slate-400;
        @apply dark:focus:border-blue-500 dark:focus:ring-blue-500;
    }

    /* Estilo para os cabeçalhos das tabelas */
    th {
        @apply p-3 font-semibold text-left text-xs uppercase tracking-wider;
        @apply text-slate-600 dark:text-slate-300; /* Cor mais clara para o modo escuro */
    }

    /* Estilo para as células das tabelas */
    td {
        @apply p-3 whitespace-nowrap;
        @apply text-slate-800 dark:text-slate-200; /* Garante bom contraste nas células */
    }

    /* Estilo para as linhas da tabela */
    tbody tr {
        @apply border-b border-slate-200 dark:border-slate-700;
    }
    tbody tr:hover {
        @apply bg-slate-50 dark:bg-slate-700/50;
    }

    /*
    ================================================================
    ===> INÍCIO: CÓDIGO ADICIONADO PARA TABELAS RESPONSIVAS <===
    ================================================================
    */
    .responsive-table-container {
        @apply block w-full overflow-x-auto;
    }

    @media (max-width: 768px) {
        /* Esconde o cabeçalho da tabela tradicional em ecrãs pequenos */
        .responsive-table-container thead {
            @apply hidden;
        }

        /* Transforma os elementos da tabela para se comportarem como blocos */
        .responsive-table-container table,
        .responsive-table-container tbody,
        .responsive-table-container tr,
        .responsive-table-container td {
            @apply block;
        }

        /* Estiliza cada linha (<tr>) como um "card" individual */
        .responsive-table-container tr {
            @apply border border-slate-200 dark:border-slate-700 rounded-lg mb-4 p-4;
        }

        /* Adiciona um "label" antes de cada célula, usando o atributo data-label */
        .responsive-table-container td::before {
            content: attr(data-label); /* Pega o texto do atributo data-label */
            @apply float-left font-bold mr-2 text-slate-500 dark:text-slate-400;
        }

        /* Ajusta o alinhamento do conteúdo da célula e remove a borda inferior */
        .responsive-table-container td {
            @apply text-right border-b-0;
        }

        /* Garante que a última célula (botões de ação) tenha um tratamento especial */
        .responsive-table-container td:last-child {
            @apply text-right pt-4 mt-2 border-t border-slate-200 dark:border-slate-700;
        }
    }
    /*
    ================================================================
    ===> FIM: CÓDIGO ADICIONADO PARA TABELAS RESPONSIVAS <===
    ================================================================
    */
}


/* ================================================================
   ===> INÍCIO: CORREÇÃO DE LAYOUT RESPONSIVO GERAL <===
   ================================================================ */

@media (max-width: 768px) {
    /* 
     * Faz com que o container principal (que segura o menu e o conteúdo) 
     * mude de 'flex-row' (lado a lado) para 'flex-col' (um em cima do outro).
     */
    body > .flex {
        flex-direction: column;
    }

    /* 
     * Ajusta a sidebar para não ter uma largura fixa e se adaptar.
     * Remove a altura de ecrã inteiro para permitir a rolagem da página.
     */
    aside#sidebar {
        width: 100%;
        height: auto;
        position: relative; /* Garante que não fique flutuando */
    }

    /* 
     * Faz com que a área de conteúdo principal ocupe toda a largura
     * e tenha uma margem no topo para não colar no menu.
     */
    main#main-content {
        width: 100%;
        margin-left: 0; /* Remove a margem esquerda que empurrava o conteúdo */
        padding-top: 1rem; /* Adiciona um respiro no topo */
    }
}
